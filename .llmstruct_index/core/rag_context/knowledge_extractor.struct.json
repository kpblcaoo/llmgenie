{
  "module_id": "core.rag_context.knowledge_extractor",
  "path": "core/rag_context/knowledge_extractor.py",
  "category": "core",
  "module_doc": "Knowledge Extractor - Phase 4A.2.1 Safe Implementation\nBuilds on existing RAG infrastructure without breaking existing tools.\nLessons learned from struct tools issues applied.",
  "functions": [
    {
      "name": "create_knowledge_extractor",
      "docstring": "Create knowledge extractor safely",
      "line_range": [
        164,
        173
      ],
      "parameters": [
        "enhancer"
      ],
      "decorators": []
    },
    {
      "name": "__init__",
      "docstring": "Initialize with optional existing enhancer",
      "line_range": [
        50,
        61
      ],
      "parameters": [
        "self",
        "enhancer"
      ],
      "decorators": []
    },
    {
      "name": "extract_code_knowledge",
      "docstring": "Extract code knowledge safely",
      "line_range": [
        63,
        85
      ],
      "parameters": [
        "self"
      ],
      "decorators": []
    },
    {
      "name": "_extract_patterns_from_document",
      "docstring": "Extract patterns from document",
      "line_range": [
        87,
        108
      ],
      "parameters": [
        "self",
        "doc"
      ],
      "decorators": []
    },
    {
      "name": "_save_patterns",
      "docstring": "Save patterns to JSON",
      "line_range": [
        110,
        131
      ],
      "parameters": [
        "self",
        "patterns"
      ],
      "decorators": []
    },
    {
      "name": "get_extraction_stats",
      "docstring": "Get extraction statistics",
      "line_range": [
        133,
        152
      ],
      "parameters": [
        "self"
      ],
      "decorators": []
    },
    {
      "name": "disable",
      "docstring": "Disable safely",
      "line_range": [
        154,
        156
      ],
      "parameters": [
        "self"
      ],
      "decorators": []
    },
    {
      "name": "enable",
      "docstring": "Enable knowledge extraction",
      "line_range": [
        158,
        160
      ],
      "parameters": [
        "self"
      ],
      "decorators": []
    }
  ],
  "classes": [
    {
      "name": "CodePattern",
      "docstring": "Extracted code pattern for knowledge base",
      "line_range": [
        17,
        26
      ],
      "methods": [],
      "bases": []
    },
    {
      "name": "KnowledgeExtractionResult",
      "docstring": "Result of knowledge extraction operation",
      "line_range": [
        30,
        36
      ],
      "methods": [],
      "bases": []
    },
    {
      "name": "SafeKnowledgeExtractor",
      "docstring": "Safe knowledge extractor that builds on existing RAG infrastructure.\n\nDesign principles:\n- NO breaking changes to existing components\n- Graceful fallbacks if anything fails  \n- Self-contained with minimal dependencies\n- Can be disabled without trace",
      "line_range": [
        39,
        160
      ],
      "methods": [
        {
          "name": "__init__",
          "docstring": "Initialize with optional existing enhancer",
          "line_range": [
            50,
            61
          ],
          "parameters": [
            "self",
            "enhancer"
          ]
        },
        {
          "name": "extract_code_knowledge",
          "docstring": "Extract code knowledge safely",
          "line_range": [
            63,
            85
          ],
          "parameters": [
            "self"
          ]
        },
        {
          "name": "_extract_patterns_from_document",
          "docstring": "Extract patterns from document",
          "line_range": [
            87,
            108
          ],
          "parameters": [
            "self",
            "doc"
          ]
        },
        {
          "name": "_save_patterns",
          "docstring": "Save patterns to JSON",
          "line_range": [
            110,
            131
          ],
          "parameters": [
            "self",
            "patterns"
          ]
        },
        {
          "name": "get_extraction_stats",
          "docstring": "Get extraction statistics",
          "line_range": [
            133,
            152
          ],
          "parameters": [
            "self"
          ]
        },
        {
          "name": "disable",
          "docstring": "Disable safely",
          "line_range": [
            154,
            156
          ],
          "parameters": [
            "self"
          ]
        },
        {
          "name": "enable",
          "docstring": "Enable knowledge extraction",
          "line_range": [
            158,
            160
          ],
          "parameters": [
            "self"
          ]
        }
      ],
      "bases": []
    }
  ],
  "callgraph": {
    "__init__": [
      "PromptEnhancer",
      "Path"
    ],
    "extract_code_knowledge": [
      "patterns.extend",
      "str",
      "self._save_patterns",
      "self._extract_patterns_from_document",
      "len",
      "time.time"
    ],
    "_extract_patterns_from_document": [
      "enumerate",
      "content.split",
      "CodePattern",
      "patterns.append",
      "line.strip"
    ],
    "_save_patterns": [
      "json.dump",
      "patterns_data.append",
      "open",
      "time.time"
    ],
    "get_extraction_stats": [
      "patterns_file.exists",
      "json.load",
      "len",
      "open"
    ],
    "disable": [],
    "enable": [],
    "create_knowledge_extractor": [
      "print",
      "SafeKnowledgeExtractor",
      "extractor.disable"
    ]
  },
  "dependencies": [
    "Any",
    "Dict",
    "Document",
    "List",
    "Optional",
    "Path",
    "PromptEnhancer",
    "dataclass",
    "dataclasses",
    "enhancer",
    "json",
    "loader",
    "pathlib",
    "time",
    "typing"
  ],
  "hash": "9d90819f91f32cb6cb28ee6a06ffa952263058f6d93b48662014299b2cc3fd6f",
  "artifact_id": "794aa89e-2b8a-48ce-abe5-026cc9f5cfa3"
}