{
  "module_id": "src.rag_context.enhancer",
  "path": "src/rag_context/enhancer.py",
  "category": "core",
  "module_doc": "Prompt Enhancer - главный интерфейс RAG системы",
  "functions": [
    {
      "name": "__init__",
      "docstring": "",
      "line_range": [
        16,
        33
      ],
      "parameters": [
        "self",
        "config"
      ],
      "decorators": []
    },
    {
      "name": "initialize",
      "docstring": "Инициализация системы - загрузка и индексация документов",
      "line_range": [
        35,
        64
      ],
      "parameters": [
        "self"
      ],
      "decorators": []
    },
    {
      "name": "enhance",
      "docstring": "Улучшает промпт добавлением релевантного контекста",
      "line_range": [
        66,
        93
      ],
      "parameters": [
        "self",
        "task_text",
        "context"
      ],
      "decorators": []
    },
    {
      "name": "_load_all_documents",
      "docstring": "Загружает все доступные документы",
      "line_range": [
        95,
        116
      ],
      "parameters": [
        "self"
      ],
      "decorators": []
    },
    {
      "name": "_build_enhanced_prompt",
      "docstring": "Строит улучшенный промпт с контекстом",
      "line_range": [
        118,
        169
      ],
      "parameters": [
        "self",
        "original_task",
        "relevant_results",
        "context"
      ],
      "decorators": []
    },
    {
      "name": "get_stats",
      "docstring": "Статистика RAG системы",
      "line_range": [
        171,
        189
      ],
      "parameters": [
        "self"
      ],
      "decorators": []
    },
    {
      "name": "refresh_index",
      "docstring": "Обновляет индекс документов",
      "line_range": [
        191,
        195
      ],
      "parameters": [
        "self"
      ],
      "decorators": []
    }
  ],
  "classes": [
    {
      "name": "PromptEnhancer",
      "docstring": "Главный интерфейс для улучшения промптов через RAG",
      "line_range": [
        13,
        195
      ],
      "methods": [
        {
          "name": "__init__",
          "docstring": "",
          "line_range": [
            16,
            33
          ],
          "parameters": [
            "self",
            "config"
          ]
        },
        {
          "name": "initialize",
          "docstring": "Инициализация системы - загрузка и индексация документов",
          "line_range": [
            35,
            64
          ],
          "parameters": [
            "self"
          ]
        },
        {
          "name": "enhance",
          "docstring": "Улучшает промпт добавлением релевантного контекста",
          "line_range": [
            66,
            93
          ],
          "parameters": [
            "self",
            "task_text",
            "context"
          ]
        },
        {
          "name": "_load_all_documents",
          "docstring": "Загружает все доступные документы",
          "line_range": [
            95,
            116
          ],
          "parameters": [
            "self"
          ]
        },
        {
          "name": "_build_enhanced_prompt",
          "docstring": "Строит улучшенный промпт с контекстом",
          "line_range": [
            118,
            169
          ],
          "parameters": [
            "self",
            "original_task",
            "relevant_results",
            "context"
          ]
        },
        {
          "name": "get_stats",
          "docstring": "Статистика RAG системы",
          "line_range": [
            171,
            189
          ],
          "parameters": [
            "self"
          ]
        },
        {
          "name": "refresh_index",
          "docstring": "Обновляет индекс документов",
          "line_range": [
            191,
            195
          ],
          "parameters": [
            "self"
          ]
        }
      ],
      "bases": []
    }
  ],
  "callgraph": {
    "__init__": [
      "RAGConfig",
      "ContextRetriever",
      "SimpleEmbedder"
    ],
    "initialize": [
      "len",
      "print",
      "self._load_all_documents",
      "time.time"
    ],
    "enhance": [
      "self.initialize",
      "print",
      "self._build_enhanced_prompt"
    ],
    "_load_all_documents": [
      "len",
      "rules_loader.load_documents",
      "print",
      "RulesLoader",
      "documents.extend",
      "StructLoader",
      "documents.append",
      "struct_loader.load_document"
    ],
    "_build_enhanced_prompt": [
      "len",
      "context.items",
      "struct_context.append",
      "rules_context.append",
      "prompt_parts.append",
      "prompt_parts.extend"
    ],
    "get_stats": [
      "stats.update"
    ],
    "refresh_index": [
      "self.initialize",
      "print"
    ]
  },
  "dependencies": [
    "Any",
    "ContextRetriever",
    "Dict",
    "Document",
    "List",
    "Optional",
    "Path",
    "RAGConfig",
    "RetrievalResult",
    "RulesLoader",
    "SimpleEmbedder",
    "StructLoader",
    "config",
    "embedder",
    "loader",
    "pathlib",
    "retriever",
    "time",
    "typing"
  ],
  "hash": "8d2cfa893f488404c7818ec2ac83342e72863d59d3aed1de2b460c729d015f12",
  "artifact_id": "40e40f53-b54b-4527-93f3-83ef4e70916d"
}