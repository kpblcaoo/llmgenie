# Эпик: Интеграция систем автоочистки в llmgenie

## Обзор
**ID**: `intelligent_cleanup_integration_2025`  
**Статус**: Запланирован  
**Приоритет**: Высокий  
**Начало**: 2025-06-05  

## Источник
Эпик основан на найденных в архиве революционных паттернах cleanup систем:
- **Struct-based Cleanup Analyzer** (191 строка) - умная категоризация на основе struct.json
- **Hash-based Duplicate Detector** (151 строка) - точный поиск дубликатов по содержимому  
- **Advanced Duplicate Analysis** (уже в llmgenie) - AST анализ для глубокого сравнения

**Документация**: `docs/archive_analysis/01_architecture_patterns/intelligent_cleanup_system_patterns.md`

## Цель
Создать интеллектуальный самоочищающийся workspace для llmgenie с автоматическими рекомендациями по cleanup, интеграцией с агентской системой и безопасными операциями очистки.

## Ключевые задачи

### Высокий приоритет (MVP)
- **TSK-CLEANUP-001**: Интеграция Struct-based Cleanup Analyzer в агентскую систему (8 часов)
- **TSK-CLEANUP-002**: Внедрение Hash-based Duplicate Detection в CLI (6 часов)

### Средний приоритет (Core Features)
- **TSK-CLEANUP-003**: Создание автоматического Workspace Monitor Agent (10 часов)
- **TSK-CLEANUP-004**: Разработка системы безопасных рекомендаций по очистке (8 часов)

### Низкий приоритет (Advanced Features)
- **TSK-CLEANUP-005**: Веб-интерфейс для управления cleanup операциями (12 часов)
- **TSK-CLEANUP-006**: Метрики эффективности и машинное обучение (10 часов)

## Перспективные идеи
- **IDEA-CLEANUP-001**: Адаптивная система категоризации на основе ML
- **IDEA-CLEANUP-002**: Интеграция с version control и backup стратегиями  
- **IDEA-CLEANUP-003**: Социальная система рекомендаций для команд
- **IDEA-CLEANUP-004**: Предиктивная система предотвращения мусорных файлов

## Архитектурные компоненты
```
src/agents/cleanup/
├── struct_analyzer.py      # Struct-based анализ
├── duplicate_detector.py   # Hash-based дубликаты  
├── workspace_monitor.py    # Мониторинг файловой системы
├── safety_system.py       # Безопасные рекомендации
└── web_interface/          # Веб-дашборд
```

## Техническая сложность
- **Общая оценка**: 54 часа
- **Интеграционные вызовы**: Совместимость с существующей агентской системой
- **Безопасность**: Критически важны backup и rollback механизмы
- **Производительность**: Эффективный мониторинг больших workspace

## Конкурентные преимущества
1. **Struct.json как единый источник истины** - уникальный подход к категоризации
2. **Гибридный анализ**: AST + Hash + Struct для максимальной точности
3. **Безопасность по умолчанию**: Обязательные бэкапы и поэтапное выполнение
4. **Агентская интеграция**: Полная автоматизация через AI агентов

## Критерии успеха
- [ ] Уменьшение размера workspace на 30%+ без потери данных
- [ ] Автоматическое выявление 95%+ истинных дубликатов
- [ ] Интеграция с существующими CLI командами
- [ ] Нулевые случаи потери критических файлов
- [ ] Веб-интерфейс для non-technical пользователей

## Связанные эпики
- `archive_integration_2025` - источник паттернов
- `intelligent_agent_system` - целевая агентская архитектура  
- `workspace_optimization` - общая оптимизация workspace 