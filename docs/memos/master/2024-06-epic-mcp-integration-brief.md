# Докладная записка: Возможности и перспективы использования MCP (Model Context Protocol) в проекте llmgenie

Дата: 2024-06-13
Автор: ai_assistant

---

## 1. Цели и мотивация
- Повысить контроль и прозрачность workflow в проекте.
- Автоматизировать рутинные и интеграционные задачи (CI/CD, тесты, таск-менеджеры, документация).
- Расширить возможности IDE за счёт подключения внешних сервисов и инструментов.
- Снизить зависимость от ручных костылей и нестабильных обвязок.

---

## 2. Что такое MCP?
- **Model Context Protocol (MCP)** — открытый протокол для подключения внешних тулзов и сервисов к Cursor IDE через стандартный API.
- Позволяет реализовать "плагины" (MCP-серверы) на любом языке (stdout, HTTP, SSE).
- MCP-тулзы автоматически доступны агенту, можно явно вызывать их по имени или описанию.
- Поддержка project-level и global конфигов (`.cursor/mcp.json`, `~/.cursor/mcp.json`), переменных окружения, OAuth.

---

## 3. Возможности MCP для llmgenie
- **Интеграция с CI/CD**: запускать пайплайны, деплой, тесты прямо из IDE.
- **Интеграция с таск-менеджерами**: создавать/закрывать задачи, обновлять статусы (Jira, GitHub, Trello и др.).
- **Автоматизация документации**: генерация, обновление, публикация docs.
- **Сбор и анализ метрик workflow**: логирование смены режимов, времени на задачи, эффективности.
- **Интеграция с внешними API**: любые кастомные сценарии (web search, базы знаний, нотификации, отчёты).
- **Возможность писать свои MCP-серверы под любые нужды команды (Python, Node.js, Go и др.).**

---

## 4. Сценарии применения
- MCP-сервер для логирования и визуализации workflow (смена режимов, история задач, метрики).
- MCP-тулза для автоматического создания/закрытия задач при смене режима или завершении этапа.
- MCP-интеграция с CI/CD для автозапуска тестов, деплоя, публикации релизов.
- MCP-сервер для интеграции с таск-менеджерами (Jira, GitHub Issues, Trello).
- MCP-тулза для сбора и анализа метрик (время на задачу, количество переключений, эффективность).
- MCP для автоматизации обновления документации и публикации отчётов.

---

## 5. Ограничения и caveats
- MCP и custom modes ещё развиваются, возможны баги и ограничения.
- Не все open-source MCP-серверы работают стабильно, требуется тестирование.
- UI для управления MCP пока не идеален (но уже есть enable/disable, project-level, env vars).
- На Windows/WSL возможны проблемы с запуском MCP.
- До 40 MCP-тулзов одновременно.
- Memories — только для локального хранения, не для секретов.

---

## 6. Рекомендации и шаги для эпика
1. **Создать отдельную ветку от develop**: `epic/mcp-integration`.
2. **Провести аудит текущих workflow и точек интеграции** (CI/CD, таск-менеджеры, docs, метрики).
3. **Выбрать 1-2 приоритетных сценария для пилота** (например, логирование workflow и интеграция с таск-менеджером).
4. **Разработать и протестировать MCP-сервер(ы)** для этих сценариев (Python/Node.js, project-level config).
5. **Документировать best practices и сценарии использования MCP** в knowledge base.
6. **Постепенно расширять покрытие MCP на другие задачи (CI/CD, docs, отчёты, метрики).**
7. **Регулярно ревизировать и обновлять MCP-интеграции, фиксировать lessons learned.**

---

## 7. Ссылки и источники
- [Changelog Cursor 1.0](https://www.cursor.com/changelog)
- [Официальная документация MCP](https://docs.cursor.com/context/model-context-protocol)
- [PulseMCP — каталог MCP-серверов](https://www.pulsemcp.com/clients/cursor-ide)
- [Пример интеграции MCP с Jira (Medium)](https://medium.com/@levi_yehuda/cursor-mcp-a-5-minute-quick-start-guide-3c6f214557d5)
- [Форум Cursor: MCP, custom tools, feedback](https://forum.cursor.com/)

---

_Докладная подготовлена для старта эпика по внедрению MCP-интеграций в llmgenie. Все предложения и сценарии обсуждаемы!_ 