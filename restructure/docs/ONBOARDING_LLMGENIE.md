# ONBOARDING: llmgenie

---

## TODO: Настройка пользовательских правил (user/global rules)
- Перейдите в Cursor IDE → Settings → Rules
- Ознакомьтесь с best practices (см. project_state.json, https://docs.cursor.so/rules)
- Добавьте необходимые правила для своего workflow

## TODO: Принципы структуры папок и именования
- Используйте прозрачную структуру папок: data/llmgenie/, data/llmstruct/, data/common/ и т.д.
- Для каждого компонента — отдельный state/manifest-файл
- Именование должно быть однозначным и отражать назначение файла/папки

## TODO: Использование role_guides и user_rules
- Ознакомьтесь с секциями role_guides и user_rules в project_state.json
- Используйте роли (user, llm_engineer, reviewer, admin, librarian, devops) для фокусировки и навигации по best practices и документации. Роли — это "линзы" для быстрого доступа к релевантной информации, а не ограничения.

---

## Гибкая смена ролей AI/ассистентом
- AI/ассистент может самостоятельно переключаться между ролями (engineer, librarian, reviewer, devops и др.) в процессе workflow, если это логично по сценарию.
- Все переключения ролей и передачи контекста фиксируются в логах (decision log, event_log, meta_log).
- Контекст и метаданные передаются между ролями через JSON/state-файлы.
- Пользователь всегда может явно указать нужную роль или запретить автоматическое переключение.
- **Примеры:**
  - coder → librarian → reviewer: код написан, документация оформлена, проведён ревью
  - devops → engineer: после деплоя автоматически активируется режим доработки кода

---

## Сценарии автоматизации активации правил
- Автоматическая генерация globs и alwaysApply при добавлении новых файлов/модулей.
- Мониторинг изменений структуры проекта: предложения по созданию/обновлению правил для новых директорий, режимов, ролей.
- Валидация и ревизия правил: CLI/AI-утилита для проверки покрытия, конфликтов, актуальности owner, applies_to, ссылок.
- Ведение decision log: журнал активаций/деактиваций правил, откат к предыдущей конфигурации.
- Диалоговые подсказки: AI сам предлагает активировать/добавить правило при смене режима, появлении нового файла, изменении workflow.

---

## TODO: Внедрение CLI/AI-утилиты для автоматизации и ревизии
- Реализовать CLI/AI-утилиту для автоматизации генерации, валидации и ревизии правил.
- Автоматизировать отчёты о "дырах" в покрытии и рекомендации по доработке.

---

## Шаблоны и болванки
- Пример state-файла: project_state.json
- Пример manifest-файла: rules_manifest.json
- Пример чек-листа: decision_memos/cursor_rules_checklist.md
- Пример структуры папок: data/llmgenie/, data/llmstruct/, data/common/
- Пример документации: docs/PROJECT_VISION.md, docs/ONBOARDING_LLMGENIE.md

---

## Советы по работе с системой правил
- Не пытайтесь заранее расписать все сценарии — делайте систему гибкой и расширяемой.
- Используйте автоматическую активацию (globs, alwaysApply) для типовых случаев, ручную — для ситуативных.
- AI/CLI может помогать генерировать, валидировать и обновлять правила.
- Ведите журнал активаций/изменений (decision log) для прозрачности.
- Регулярно пересматривайте и дополняйте правила по мере развития workflow.

---

## TODO: Проверка системы и анализ эффективности
- После внедрения изменений провести ревизию системы правил: проверить, что все сценарии покрыты, автоматизация работает, ручные активации понятны.
- Оценить эффективность: выявить узкие места, неудобства, избыточность или нехватку гибкости.
- При необходимости — запланировать доработки и обновить best practices.

---

# Раздел: Project Rules & Automation (Cursor IDE)

## Новая структура .cursor/rules
- Каталоги: core/, workflows/, roles/, languages/, security/, templates/
- Все правила оформляются как .md с frontmatter (description, alwaysApply, globs)
- После ревизии и согласования — переименовывать в .mdc

## Примеры frontmatter
- alwaysApply (базовые стандарты)
- globs (файловые паттерны)
- agent requested (ситуативные/ролевые)

## Workflow ревизии
- Анализ → преобразование → тестирование → обновление документации → архивация
- Все изменения фиксируются в event_log/meta-log и decision memos
- Lessons learned и рекомендации — в knowledge/cursor.md

## Рекомендации
- Регулярно ревизировать правила на дубли, избыточность, общность описаний
- Документировать изменения в project_state.json, rules_manifest.json
- Использовать agent requested для ситуативных сценариев, alwaysApply — для стандартов, globs — для паттернов

## Ссылки
- decision_memos/* (структура, чеклисты, анализ)
- knowledge/cursor.md (актуальные best practices)

_Этот документ будет дополняться по мере развития проекта и best practices._ 