# Memo: Исследование возможностей Cursor 1.0 для контроля workflow и автоматизации через MCP, плагины и custom tools

Дата: 2024-06-13
Автор: ai_assistant

---

## 1. Краткое резюме
Cursor 1.0 получил ряд новых функций, которые потенциально позволяют повысить контроль над workflow, автоматизировать процессы и расширять IDE под свои задачи. Ключевые направления: MCP (Model Context Protocol), кастомные тулзы, плагины, Background Agent, Memories, BugBot, Custom Modes.

---

## 2. MCP (Model Context Protocol)
- **Что это:** Открытый протокол для подключения внешних тулзов и сервисов к Cursor через стандартный API (plugin system).
- **Возможности:**
  - MCP-серверы можно писать на любом языке (stdout, HTTP, SSE).
  - Можно интегрировать CI/CD, таск-менеджеры, базы знаний, любые внешние сервисы.
  - MCP-тулзы автоматически доступны агенту, можно явно вызывать их по имени или описанию.
  - Поддержка переменных окружения, OAuth, project/global config (`.cursor/mcp.json`, `~/.cursor/mcp.json`).
  - Можно создавать свои MCP-серверы для автоматизации рутины, контроля workflow, интеграции с Jira, GitHub, Notion и др.
- **Ограничения:**
  - Пока поддерживаются только tools (ресурсы — в будущем).
  - До 40 MCP-тулзов одновременно.
  - UI для управления MCP пока сырой, но развивается (enable/disable, project-level, env vars).
  - Возможны баги на Windows/WSL, лучше тестировать на Linux/Mac.

---

## 3. Custom Modes и плагины
- **Custom Modes (beta):**
  - Позволяют создавать свои режимы работы с кастомными тулзами и промптами.
  - Можно настраивать keybindings, доступные инструменты, шаблоны промптов.
  - Подходит для создания специализированных workflow (например, "code review mode", "test mode", "release mode").
- **Плагины/Extensions:**
  - Cursor поддерживает VSCode-совместимые расширения (marketplace).
  - Можно писать свои плагины для расширения функционала, интеграции с внешними системами, UI-улучшений.

---

## 4. Background Agent, BugBot, Memories
- **Background Agent:**
  - Позволяет запускать задачи в фоне (например, автотесты, ревью, CI/CD).
  - Можно делегировать рутинные задачи агенту, отслеживать статус, брать управление вручную.
- **BugBot:**
  - Автоматический code review для PR, интеграция с GitHub.
  - Быстрый переход к фиксу прямо из комментария.
- **Memories (beta):**
  - AI может помнить факты по проекту, управляется через Settings → Rules.
  - Можно использовать для хранения project-specific знаний, но не рекомендуется для секретов.

---

## 5. Best Practices и сценарии применения
- **MCP:**
  - Создавать MCP-серверы для автоматизации повторяющихся задач (CI/CD, Jira, тесты, деплой, документация).
  - Использовать project-level MCP config для специфичных тулзов.
  - Включать/отключать тулзы по задаче (enable/disable в UI или через config).
  - Документировать сценарии использования MCP в onboarding и knowledge base.
- **Custom Modes:**
  - Создавать режимы под ключевые workflow (review, debug, release, docs).
  - Привязывать MCP-тулзы и шаблоны промптов к режимам.
- **Плагины:**
  - Использовать VSCode-совместимые расширения для интеграции с внешними системами.
  - Писать свои плагины для специфичных задач (например, визуализация workflow, кастомные панели управления).
- **Background Agent:**
  - Делегировать рутинные задачи, отслеживать прогресс, использовать для CI/CD и автотестов.
- **Memories:**
  - Хранить project-specific знания, но не использовать для секретов.

---

## 6. Рекомендации для команды
- **Переходить на MCP для автоматизации и интеграций** — это основной путь расширения Cursor под свои задачи.
- **Документировать все MCP-сценарии и кастомные режимы** в knowledge base.
- **Тестировать новые функции на Linux/Mac** (на Windows/WSL возможны баги).
- **Использовать project-level конфиги** для изоляции тулзов между проектами.
- **Следить за changelog и обновлениями Cursor** — функционал MCP и custom modes быстро развивается.
- **Рассмотреть написание своих MCP-серверов** для контроля workflow, логирования, интеграции с таск-трекерами, CI/CD, внешними API.
- **Для сложных сценариев — писать плагины/расширения** (VSCode-compatible).

---

## 7. Примеры идей для MCP/плагинов
- MCP-сервер для управления workflow (логирование смены режимов, запуск тестов, деплой, CI/CD, интеграция с Jira/GitHub).
- MCP-тулза для автоматического создания/закрытия задач в таск-трекере при смене режима.
- Плагин для визуализации текущего workflow, статуса задач, истории переключений режимов.
- Custom mode "review mode" с привязанными тулзами для code review, checklist, автотестов.
- MCP-сервер для сбора и анализа метрик workflow (время на задачу, количество переключений, эффективность).

---

## 8. Ограничения и caveats
- MCP и custom modes — ещё развиваются, возможны баги и ограничения.
- Не все MCP-серверы из open-source работают стабильно, требуется тестирование.
- UI для управления MCP пока не идеален (но уже есть enable/disable, project-level, env vars).
- На Windows/WSL возможны проблемы с запуском MCP.
- Memories — только для локального хранения, не для секретов.

---

## 9. Ссылки и источники
- [Changelog Cursor 1.0](https://www.cursor.com/changelog)
- [Официальная документация MCP](https://docs.cursor.com/context/model-context-protocol)
- [PulseMCP — каталог MCP-серверов](https://www.pulsemcp.com/clients/cursor-ide)
- [Пример интеграции MCP с Jira (Medium)](https://medium.com/@levi_yehuda/cursor-mcp-a-5-minute-quick-start-guide-3c6f214557d5)
- [Форум Cursor: MCP, custom tools, feedback](https://forum.cursor.com/)

---

## 10. Вывод
Cursor 1.0 открывает новые возможности для контроля workflow и автоматизации через MCP, custom modes, плагины и Background Agent. Для максимального контроля и гибкости рекомендуется:
- Активно использовать MCP для интеграций и автоматизации
- Создавать custom modes под ключевые сценарии
- Документировать best practices и сценарии в knowledge base
- Следить за обновлениями и тестировать новые функции
- Рассмотреть написание своих MCP-серверов и плагинов для специфичных задач

---

_Этот memo подготовлен на основе анализа changelog, официальной документации, форумов и best practices сообщества._ 